import{r as l,I as c,X as m,t as u,z as n,Y as p,v}from"./vue-9wLmwI6X.js";import{_ as f}from"./index-Q6vPCyko.js";import{a as i}from"./elementPlus-BGu-vLUs.js";import"./vueHooksPlus-BTrNEIS7.js";import"./lodashEs-DxpXT_p7.js";const _={class:"demo_root","element-loading-text":"镜像构建中..."},b={__name:"index",setup(x){const a=l('FROM node:latest\nWORKDIR /app\nCOPY . .\nRUN npm install\nCMD ["npm", "run", "dev"]'),s=l(!1);async function d(){try{s.value=!0,await new Promise(r=>{setTimeout(()=>{r()},1e4)});const o=new TextEncoder().encode(a.value),t=new Blob([o],{type:"application/x-tar"}),e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="Dockerfile.tar",document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e),URL.revokeObjectURL(e.href)},100),i.success("构建成功")}catch(o){i.error("构建失败: ".concat(o.message))}finally{s.value=!1}}return(o,t)=>{const e=m("loading");return c((v(),u("div",_,[t[1]||(t[1]=n("h1",{class:"text-center"}," Dockerfile 编辑器 ",-1)),c(n("textarea",{"onUpdate:modelValue":t[0]||(t[0]=r=>a.value=r),class:"dockerfile-editor"},null,512),[[p,a.value]]),n("div",{class:"text-center"},[n("button",{class:"build-button",onClick:d}," 开始构建 ")])])),[[e,s.value]])}}},y=f(b,[["__scopeId","data-v-8edbb60c"]]);export{y as default};
